
import { Router } from 'express';
import { <%= model.name %>Controller } from '../controllers/<%= model.name.toLowerCase() %>.controller';
import { validate } from '../middlewares/validation.middleware';
import { <%= model.name %>Schema } from '../../../application/dtos/<%= model.name.toLowerCase() %>.dto';
import { container } from '../../../infrastructure/container';

const router = Router();
const <%= model.name.toLowerCase() %>Controller = container.resolve(<%= model.name %>Controller);

router.post('/', validate(<%= model.name %>Schema), <%= model.name.toLowerCase() %>Controller.create.bind(<%= model.name.toLowerCase() %>Controller));
router.get('/', <%= model.name.toLowerCase() %>Controller.findAll.bind(<%= model.name.toLowerCase() %>Controller));
router.get('/:id', <%= model.name.toLowerCase() %>Controller.findById.bind(<%= model.name.toLowerCase() %>Controller));
router.put('/:id', validate(<%= model.name %>Schema.partial()), <%= model.name.toLowerCase() %>Controller.update.bind(<%= model.name.toLowerCase() %>Controller));
router.delete('/:id', <%= model.name.toLowerCase() %>Controller.delete.bind(<%= model.name.toLowerCase() %>Controller));

export default router;